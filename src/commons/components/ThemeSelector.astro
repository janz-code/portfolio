---
import SunIcon from "../assets/icons/SunIcon.astro";
import MoonIcon from "../assets/icons/MoonIcon.astro";
---
<div id="themeSelector" class="w-6 h-6 rounded-full cursor-pointer dark:text-amber-500 text-indigo-400
    transition-colors duration-500">
    <figure class="hidden dark:flex">
        <SunIcon/>
    </figure>
    <figure class="flex dark:hidden">
        <MoonIcon/>
    </figure>
</div>
<script is:inline>
    document.addEventListener("astro:page-load", async () => {
        const theme = localStorage.getItem("theme");
        if(!theme || theme === "light") return;
        document.body.classList.add("dark");
    })
    document.getElementById("themeSelector").addEventListener("click", async () => {
        if(document.body.classList.contains("dark")){
            document.body.classList.remove("dark");
            localStorage.setItem("theme", "light");
            return
        }
        document.body.classList.add("dark");
        localStorage.setItem("theme", "dark");
    })
</script>